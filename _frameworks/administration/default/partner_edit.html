{header}
<div class="block_narrow">
    <ul class="lmenu_lgreen">
        <li class="active"><a href="{url_main}administration/partner.php">{l_menu_partners}</a></li>
        <li><a href="{url_main}administration/partner_baners.php">{l_menu_partners_banners}</a></li>
        <li><a href="{url_main}administration/contact_partner.php">{l_menu_from_partners}</a></li>
        <li><a href="{url_main}administration/partner_main.php">{l_main_page}</a></li>
        <li><a href="{url_main}administration/partner_tips.php">{l_page_tips}</a></li>
        <li><a href="{url_main}administration/partner_faq.php">{l_page_faq}</a></li>
        <li><a href="{url_main}administration/partner_terms.php">{l_page_terms}</a></li>
    </ul>
</div>
<div class="block_main">
    <h2>{l_title_current}</h2>
    <script Language="JavaScript" type="text/javascript">
    function onChangeCompanyName() {
      checkPayee.innerHTML = document.JoinForm.name.value;
    }
    function confirmCheckPayee() {
      message = new String("{l_your_checks}: %1. {l_once_set}");
      message = message.replace('%1', document.JoinForm.name.value);
      if (!confirm(message)) {
        return false;
      }
      return true;
    }
      function onValidateJoinForm() {
        var form = document.forms['JoinForm'];
        // "name" field validation.
        if (!validateRequiredField(form['name'], '{l_name}')) {
          removeSubmissionBlock();
          return false;
        }
        // "name" field validation.
        if (!validateMaxLength(form['name'], '{l_name}','100')) {
          removeSubmissionBlock();
          return false;
        }
        // "referring_domains" field validation.
        if (!validateRequiredField(form['referring_domains'], '{l_referring_domains}')) {
          removeSubmissionBlock();
          return false;
        }
        // "referring_domains" field validation.
        if (!validateMaxLength(form['referring_domains'], '{l_referring_domains}','2000')) {
          removeSubmissionBlock();
          return false;
        }
        // "referring_domains" field validation.
        if (!validateMultipleDomainField(form['referring_domains'], '{l_referring_domains}', '2147483647')) {
          removeSubmissionBlock();
          return false;
        }
        // "contact_name" field validation.
        if (!validateRequiredField(form['contact_name'], '{l_name}')) {
          removeSubmissionBlock();
          return false;
        }
        // "contact_name" field validation.
        if (!validateMaxLength(form['contact_name'], '{l_name}','200')) {
          removeSubmissionBlock();
          return false;
        }
        // "phone" field validation.
        if (!validateRequiredField(form['phone'], '{l_phone_number}')) {
          removeSubmissionBlock();
          return false;
        }
        // "phone" field validation.
        if (!validateMaxLength(form['phone'], '{l_phone_number}','15')) {
          removeSubmissionBlock();
          return false;
        }
        // "phone" field validation.
        if (!validateNumericWS(form['phone'], '{l_phone_number}')) {
          removeSubmissionBlock();
          return false;
        }
        // "email" field validation.
        if (!validateRequiredField(form['email'], '{l_email_address}')) {
          removeSubmissionBlock();
          return false;
        }
        // "email" field validation.
        if (!validateMaxLength(form['email'], '{l_email_address}','100')) {
          removeSubmissionBlock();
          return false;
        }
        // "email" field validation.
        if (!validateEmailField(form['email'], '{l_email_address}')) {
          removeSubmissionBlock();
          return false;
        }
        // "addr1" field validation.
        if (!validateRequiredField(form['addr1'], '{l_billing_address}')) {
          removeSubmissionBlock();
          return false;
        }
        // "addr1" field validation.
        if (!validateMinLength(form['addr1'], '{l_billing_address}','2')) {
          removeSubmissionBlock();
          return false;
        }
        // "addr1" field validation.
        if (!validateMaxLength(form['addr1'], '{l_billing_address}','50')) {
          removeSubmissionBlock();
          return false;
        }
        // "addr1" field validation.
        if (!validateRequiredField(form['addr1'], '{l_billing_address}')) {
          removeSubmissionBlock();
          return false;
        }
        // "country" field validation.
        if (!validateRequiredSelect(form['country'],'{l_country}','-1')) {
          removeSubmissionBlock();
          return false;
        }
        // "country" field validation.
        if (!validateRequiredField(form['country'], '{l_country}')) {
          removeSubmissionBlock();
          return false;
        }
        // "state" field validation.
        if (!validateRequiredSelect(form['state'],'{l_state_province}','-1')) {
          removeSubmissionBlock();
          return false;
        }
        // "state" field validation.
        if (!validateRequiredField(form['state'], '{l_state_province}')) {
          removeSubmissionBlock();
          return false;
        }
        // "city" field validation.
        if (!validateRequiredSelect(form['city'],'{l_city}','-1')) {
          removeSubmissionBlock();
          return false;
        }
        // "city" field validation.
        if (!validateRequiredField(form['city'], '{l_city}')) {
          removeSubmissionBlock();
          return false;
        }
        // "zip" field validation.
        if (!validateMaxLength(form['zip'], '{l_zip_code}','10')) {
          removeSubmissionBlock();
          return false;
        }

        // "tax field validation"
        if (!validateMaxLength(form['tax'], '{l_tax_id}','10')) {
            removeSubmissionBlock();
            return false;
        }

        // "join_password" field validation.
        if (!validateRequiredField(form['join_password'], '{l_password}')) {
          removeSubmissionBlock();
          return false;
        }
        // "join_password" field validation.
        if (!validateMinLength(form['join_password'], '{l_password}','4')) {
          removeSubmissionBlock();
          return false;
        }
        // "join_password" field validation.
        if (!validateMaxLength(form['join_password'], '{l_password}','30')) {
          removeSubmissionBlock();
          return false;
        }
        // "join_password" field validation.
        if (!validateAlphaNumeric(form['join_password'], '{l_password}')) {
          removeSubmissionBlock();
          return false;
        }
        // "join_password" field validation.
        if (!validateTwoFields(form['join_password'],'{l_password}',form['verify_password'],'{l_verify_password}')) {
          removeSubmissionBlock();
          return false;
        }
        return true;
      }

      function validateJoinForm() {
        blockSubmission = true;
         if (typeof beforeJoinFormValidation != 'undefined') {
          beforeJoinFormValidation();
        }
        var validated = onValidateJoinForm();
        if (validated && (typeof uponSuccessfulJoinFormValidation != 'undefined')) {
          validated = uponSuccessfulJoinFormValidation();
        }
        else if (!validated && (typeof uponUnsuccessfulJoinFormValidation != 'undefined')) {
          uponUnsuccessfulJoinFormValidation();
        }
        if (!validated) {
          removeSubmissionBlock();
        }
        return validated;
      }

      function submitJoinForm() {
       if (validateJoinForm()) document.JoinForm.submit();
        }
    </script>
    <div class="bl_form">
        <form name="JoinForm" method="POST" action="{url_main}administration/partner_edit.php?cmd=edit&id={partner_id}" onSubmit="return validateJoinForm();">
        {message}

        <label>{l_company_name}:</label>
        <input type="text" name="name" value="{company}" onChange="onChangeCompanyName();"/>

        <label>{l_referring_domains}:</label>
        <input type="text" name="referring_domains" value="{domain}"/>

        <label>{l_name}:</label>
        <input type="text" name="contact_name" value="{real_name}"/>

        <label>{l_phone}:</label>
        <input type="text" name="phone" value="{phone}"/>

        <label>{l_email}:</label>
        <input type="text" name="email" value="{mail}"/>

        <label>{l_address_1}:</label>
        <input type="text" name="addr1" value="{adress}"/>

        <label>{l_address_2}:</label>
        <input type="text" name="addr2" value="{adress2}"/>

        <label>{l_country}:</label>
        <select name="country" class="input" onChange="submitForm(document.JoinForm, '{url_main}administration/partner_edit.php?id={partner_id}&focusField=state&focusForm=JoinForm')">
		{country_options}
		</select>

        <label>{l_state_province}:</label>
        <select name="state" class="input" onChange="submitForm(document.JoinForm, '{url_main}administration/partner_edit.php?id={partner_id}&focusField=city&focusForm=JoinForm')">
        <option>{l_please_select}</option>
        {state_options}
		</select>

        <label>{l_city}:</label>
        <select name="city" class="input">
        <option>{l_please_select}</option>
        {city_options}
		</select>

        <label>{l_zip_postal_code}:</label>
        <input type="text" name="zip" value="{zip}"/>

        <label>{l_tax_id}:</label>
        <input type="text" name="tax" value="{tax}"/>

        <label>{l_password}:</label>
        <input type="password" name="join_password" value="{password}"/>

        <label>{l_confirm_password}:</label>
        <input type="password" name="verify_password" value="{password}"/>

        <div class="btn fl_right"><a href="#" class="submit">{l_save}</a>
									<input type="submit" style="visibility:hidden;position:absolute;">
		</div>
        </form>
    </div>

    <div class="empty"></div>
</div>
{footer}
